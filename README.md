# 프로젝트 이름 Cloud Wiki

### [서비스 바로가기](여기에_서비스_URL_삽입)

[Cloud 관련 문서/레포](https://github.com/100-hours-a-week/13-team-project-cloud)

<br />

## 클라우드 인프라 목표

- 서비스 이해를 바탕으로 서비스에 맞는 인프라를 설계·구성한다.
- 비용·운영·보안·관리형 서비스 선택 이유 등 핵심 고려 요소를 근거 있게 반영한다.
- 모니터링/알림을 구현해 운영 상태를 빠르게 파악하고 대응한다.
- 테스트를 통해 병목을 확인하고, 결과를 근거로 개선 방향을 도출한다.
- DevOps 문화를 정착시켜 개발 흐름과 배포 과정에 병목이 없도록 한다.

<br />

## 목차

> - [문서 운영 원칙](#문서-운영-원칙)
> - [현재 아키텍처 개요](#현재-아키텍처-개요)
> - [배포 환경 개요](#배포-환경-개요)
> - [배포 전략과 운영 흐름](#배포-전략과-운영-흐름)
> - [CI 파이프라인 설계](#ci-파이프라인-설계)
> - [CD 파이프라인 설계](#cd-파이프라인-설계)
> - [모니터링 및 알림](#모니터링-및-알림)
> - [롤백 및 장애 대응](#롤백-및-장애-대응)
> - [보안 및 시크릿 관리](#보안-및-시크릿-관리)
> - [단계별 확장 로드맵](#단계별-확장-로드맵)

<br />

## 문서 운영 원칙

- Cloud 설계 문서는 **Cloud-Wiki 한 페이지**에서만 관리합니다.
- 각 단계는 **Why(서비스 기준)** → **How(적용 방법)** 순서로 작성합니다.
- 예시는 참고용입니다. **우리 서비스 상황에 맞게 수정**해 주세요.

<br />

## 현재 아키텍처 개요

- [작성 가이드] 현재 서비스 구성 요소와 배치를 한 문단으로 설명하고, 다이어그램을 첨부합니다.
- [예시] “API 서버 1대, 관리형 DB 1대, 프론트는 정적 호스팅으로 운영. 내부 통신은 VPC로 제한.”

<br />

## 배포 환경 개요

- [작성 가이드] 개발/스테이징/프로덕션 환경 구분과 접근 방식(도메인, 권한)을 정리합니다.
- [예시] “스테이징은 내부 QA용, 프로덕션은 승인 후 배포. 도메인은 stage/app로 분리.”

<br />

## 배포 전략과 운영 흐름

- [작성 가이드] 현재 배포 방식과 승인 흐름을 요약합니다.
- [예시] “초기에는 수작업 배포로 시작하고, 품질 안정화 후 CI/CD로 전환.”

<br />

## CI 파이프라인 설계

### Why (서비스 기준)

- [작성 가이드] 지금 단계에서 수작업 배포가 가능한 이유와, 어떤 리스크가 있는지 적습니다.
- [예시] “현재는 사용자 수가 적고 배포 빈도가 낮아 수작업으로도 대응 가능하다. 하지만 배포 시 다운타임과 인적 오류 위험이 있어 다음 단계에서 자동화가 필요하다.”

### How (적용 방법)

- [작성 가이드] 현재 배포 흐름과 담당 역할을 간단히 씁니다.
- [예시] “API 서버 1대 + 관리형 DB 구조. 배포는 PM 승인 후 백엔드 담당이 SSH로 배포.”

### 배포 체크리스트 (예시)

```text
1) 배포 공지
2) 코드 반영
3) DB 마이그레이션
4) 서비스 재시작
5) 헬스 체크
```

### 산출물

- 구조 다이어그램
- 체크리스트
- 롤백 계획

<br />

### Why (서비스 기준)

- [작성 가이드] 협업 중 충돌/버그를 빠르게 잡아야 하는 이유를 적습니다.
- [예시] “추천 로직 변경이 프론트와 동시에 영향을 주므로, PR 단계에서 자동 테스트가 필요하다.”

### How (적용 방법)

- [작성 가이드] 사용하는 CI 도구와 트리거 정책을 씁니다.
- [예시] “GitHub Actions 사용, PR 생성 시 테스트 + Lint 자동 실행.”

### 파이프라인 요약 (예시)

```text
Lint/Format → Test → Build → Artifact 저장
```

<br />

## CD 파이프라인 설계

### Why (서비스 기준)

- [작성 가이드] 배포 속도와 안정성이 왜 중요한지 설명합니다.
- [예시] “배포가 늦어지면 추천/정산 오류 수정이 지연되므로, 자동 배포와 안전한 전환 전략이 필요하다.”

### How (적용 방법)

- [작성 가이드] 배포 방식(승인형/완전자동)과 전략(Blue-Green 등)을 적습니다.
- [예시] “스테이징은 자동, 프로덕션은 승인 후 배포. Blue-Green으로 무중단 전환.”

### 배포 흐름 (예시)

```text
CI 산출물 → 스테이징 배포 → 승인 → 프로덕션 전환 → 모니터링
```

<br />

## 모니터링 및 알림

- [작성 가이드] 핵심 지표, 알림 채널, 알림 기준을 정리합니다.
- [예시] “에러율 1% 초과 시 알림, 응답 시간 p95 1초 초과 시 경고.”

<br />

## 롤백 및 장애 대응

- [작성 가이드] 롤백 조건, 책임자, 복구 절차를 간단히 씁니다.
- [예시] “배포 직후 오류율 급증 시 이전 버전으로 즉시 전환.”

<br />

## 보안 및 시크릿 관리

- [작성 가이드] 시크릿 저장 위치와 접근 정책을 기술합니다.
- [예시] “배포 키는 GitHub Actions Secrets에 저장, 운영 서버 접근은 IP 제한.”

<br />

## 단계별 확장 로드맵

- [작성 가이드] 아래는 과제 단계와 실제 운영 단계가 자연스럽게 이어지도록 정리하는 구역입니다.
- [예시]
  - 1단계: 수작업 배포로 시작해 흐름/리스크 파악
  - 2단계: CI 도입으로 통합 품질 자동화
  - 3단계: CD 도입으로 배포 안정화 및 속도 개선

<br />

### 1단계: 수작업 배포 기반 정리

**Why (서비스 기준)**

- [작성 가이드] 지금 규모에서 수작업이 가능한 이유와, 다음 단계로 넘어가야 하는 트리거를 적습니다.
- [예시] “배포 빈도가 낮아 수작업으로 충분하지만, 인력 의존도와 다운타임이 누적되는 시점에 자동화가 필요.”

**How (적용 방법)**

- [작성 가이드] 배포 담당, 승인 흐름, 배포 시간대를 작성합니다.
- [예시] “PM 승인 → 백엔드 담당 배포 → QA 확인 → 공지 업데이트.”

**배포 흐름 (예시)**

```text
공지 → 코드 반영 → 마이그레이션 → 재시작 → 헬스체크
```

**산출물**

- 배포 체크리스트
- 구조 다이어그램
- 다운타임 및 롤백 계획

**완료 조건**

- [작성 가이드] 실제로 수작업 배포를 1회 이상 수행했고, 체크리스트가 업데이트됨
- [예시] “최근 배포 1회 기록 + 다운타임 5분 이내 + 롤백 절차 점검 완료”

<br />

### 2단계: CI 파이프라인 정착

**Why (서비스 기준)**

- [작성 가이드] 통합 충돌, 테스트 누락 등 현재 경험한 문제를 근거로 씁니다.
- [예시] “PR 병합 후 장애를 막기 위해 자동 테스트와 품질 게이트가 필요.”

**How (적용 방법)**

- [작성 가이드] CI 도구, 트리거 조건, 실행 스테이지를 명시합니다.
- [예시] “GitHub Actions 사용, PR 생성/업데이트마다 Lint+Test 실행.”

**파이프라인 구성 (예시)**

```text
Lint → Unit Test → Build → Artifact 저장
```

**산출물**

- CI 다이어그램
- 워크플로우 설정 요약
- 테스트 통과 기준

**완료 조건**

- [작성 가이드] PR 기준으로 CI가 자동 실행되고 실패 시 머지가 막히는 상태
- [예시] “PR 생성 시 Lint/Test 자동 실행, 실패 시 머지 불가 확인”

<br />

### 3단계: CD 파이프라인 안정화

**Why (서비스 기준)**

- [작성 가이드] 배포 속도와 장애 리스크를 동시에 낮춰야 하는 이유를 적습니다.
- [예시] “버그 수정 반영 속도를 높이되, 장애 확산을 막기 위해 안전한 전환이 필요.”

**How (적용 방법)**

- [작성 가이드] 승인형/완전자동 여부와 배포 전략(Blue-Green 등)을 기록합니다.
- [예시] “스테이징 자동, 프로덕션 승인형. Blue-Green으로 무중단 전환.”

**배포 흐름 (예시)**

```text
CI 산출물 → 스테이징 자동 배포 → 승인 → 프로덕션 전환 → 모니터링
```

**산출물**

- CD 흐름도
- 배포 전략 선택 이유
- 롤백/모니터링 기준

**완료 조건**

- [작성 가이드] 스테이징 자동 배포가 안정적으로 동작하고, 프로덕션 승인 배포가 재현 가능함
- [예시] “스테이징 자동 배포 1회 이상 성공 + 프로덕션 전환/롤백 시나리오 검증”
