# OPS-004: DNS 이전 — 가비아 → Route 53

| 항목 | 내용 |
|------|------|
| 날짜 | 2026-02-10 |
| 적용 단계 | v1 (Big Bang) |
| 주요 목표 | 도메인 네임서버를 가비아에서 AWS Route 53으로 이전 |

---

## 1) 배경

도메인 관리를 가비아에서 AWS Route 53으로 통합하기 위해 DNS 레코드를 이전하는 작업을 진행했다.

---

## 2) 문제

Dev 환경은 정상 동작했으나, Production 환경에서 도메인이 resolve되지 않는 문제가 발생했다.

---

## 3) 원인

가비아와 Route 53의 루트 도메인 레코드 표기 방식 차이가 원인이었다.

| 항목 | 가비아 | Route 53 |
|------|--------|----------|
| 루트 도메인 표기 | `@` (필수) | 도메인명 그대로 (`@` 불필요) |

가비아에서 사용하던 `@` 표기를 Route 53에 그대로 옮기면서, Route 53이 이를 유효한 레코드로 인식하지 못했다.

Dev 환경은 서브도메인(`dev.example.com` 등)을 사용하고 있어 `@` 이슈에 해당하지 않았기 때문에 문제가 없었다.

---

## 4) 해결

Route 53 레코드에서 `@`를 제거하고 도메인명을 직접 입력했다. TTL 전파 시간이 있어 즉시 반영되지는 않았으나, 전파 완료 후 정상 동작을 확인했다.

---

## 5) 교훈

- DNS 레코드 이전 시 레지스트라 간 표기 규칙 차이를 사전에 확인할 것
- Dev가 정상이어도 Prod는 별도로 검증할 것 (서브도메인 vs 루트 도메인 동작 차이)
